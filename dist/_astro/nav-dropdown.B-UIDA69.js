function p(){document.querySelectorAll(".has-submenu").forEach(e=>{const t=e.querySelector(".nav-caret"),o=e.querySelector(".submenu");if(!t||!o)return;let s=null,a=null;const i=80,u=150,c=()=>{a&&(window.clearTimeout(a),a=null),!e.classList.contains("open")&&(s=window.setTimeout(()=>{e.classList.add("open"),t.setAttribute("aria-expanded","true")},i))},l=()=>{s&&(window.clearTimeout(s),s=null),a=window.setTimeout(()=>{e.classList.remove("open"),t.setAttribute("aria-expanded","false")},u)};e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",l),t.addEventListener("click",n=>{n.preventDefault(),e.classList.contains("open")?(e.classList.remove("open"),t.setAttribute("aria-expanded","false")):(e.classList.add("open"),t.setAttribute("aria-expanded","true"))}),e.addEventListener("keydown",n=>{if(n.key==="Escape"&&(e.classList.remove("open"),t.setAttribute("aria-expanded","false"),t.focus()),n.key==="ArrowDown"){const r=o.querySelector('a,button,[tabindex]:not([tabindex="-1"])');r&&(n.preventDefault(),e.classList.add("open"),t.setAttribute("aria-expanded","true"),r.focus())}}),document.addEventListener("click",n=>{e.contains(n.target)||(e.classList.remove("open"),t.setAttribute("aria-expanded","false"))})})}export{p as setupNavDropdown};
